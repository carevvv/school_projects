

***Инкапсуляция*** - механизм,
• связывающий вместе **код** и **данные**, которыми он манипулирует; 
• защищающий их от произвольного доступа со стороны другого кода, внешнего по отношению к рассматриваемому.

 Это позволяет защитить данные объекта от некорректного использования и обеспечивает контроль над изменениями состояния объекта.

Доступ к коду и данным жестко контролируется **интерфейсом**. 
Основой инкапсуляции является класс. 

1. **Класс** — это механизм (пользовательский тип данных) для создания объектов. 
2. **Объект класса** — переменная типа класс или экземпляр класса. Любой **объект** характеризуется состоянием (значениями полей данных) и поведением (операциями над объектами, задаваемыми определенными в классе функциями, которые называют методами класса).

В C++ для управления доступом к членам класса используются модификаторы доступа:

- public: открытые члены класса, доступные из любого места программы.
- protected: защищенные члены, доступные внутри класса, его производных классов и друзей.
- private: закрытые члены, доступные только внутри самого класса и его друзей.






## Друзья класса

**Друг класса –** это функция, не являющаяся членом этого класса, но имеющая доступ к его private и protected членам.

Своих друзей класс объявляет сам в любой зоне описания класса с помощью служебного слова  ```friend```. 

Функция-друг может быть описана внутри класса. 

Если функций, имена которых совпадают с объявленной в классе функцией-другом, несколько, то другом считается только та, у которой в точности совпадает прототип.

Другом класса может быть: 
	• обычная функция: ``friend void f (...); 
	• функция-член другого класса: ``friend void Y::f (..); 
	• весь класс: ``friend class Y;

==*Дружба не обладает ни наследуемостью, ни транзитивностью.*==


##### Использование функций-друзей класса
```
class X {
	int a;
	friend void fff ( X * p, int); // здесь нет this !
	public:
		void mmm (int);
};

void fff ( X * p, int i) {
	p -> a = i;
}

void X::mmm (int i) {
	a = i;
}

void f () {
	X obj;
	fff (&obj, 10);
	obj.mmm (10);
}
```


Преимущества использования друзей класса:
1. Эффективность реализации (можно обходить ограничения доступа, предназначенные для обычных пользователей). 
2. Функция-друг нескольких классов позволяет упростить интерфейс этих классов. 
3. Функция-друг допускает преобразование своего первого параметра-объекта, а метод класса — нет

